# For distributed tests, call tox with `-n NUMBER` arguments
# Use `setup.cfg` as single-source of truth for dependency specification

[tox]
minversion = 3.8
envlist = default

[testenv]
setenv =
    TOXINIDIR = {toxinidir}
passenv =
    HOME
    USER
    USERNAME
    COVERAGE
    PIP_CACHE
deps =
    certifi
    pytest
    pre-commit
commands =
    default: py.test -k "not system" {posargs}
    system: py.test -k system {posargs}
    all: py.test -vv {posargs}
extras =
    # TODO: uncomment `all` once all the extensions are updated
    #       to the new version of pyscaffold
    # all
    testing
